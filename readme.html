 
<p><b>Description</b></p>
<p>org.eclipse.releng.eclipsebuilder contains Ant scripts that use the java and 
  non-java resources in org.eclipse.pde.build to build all shipped components 
  of Eclipse: SDK, platform jdt, examples, tests and team extras. A wrapper script, 
  rg.eclipse.releng.eclipsebuilder/build.xml, is provided to build any specified 
  component with default settings of necessary Ant properties.</p>
<p><b>Prerequisites</b><br>
</p>
<p>1. cvs executable installed and on system path variable.<br>
  2. 1.3.1 level jre installed and jre/bin directory added to system path variable.<br>
  3. 1.4 level JDK installed (for generating javadoc with working links)<br>
  4. (on non Windows systems only) - a 1.3.1 level windows java runtime environment 
  for compiling.<br>
  5. Info-Zip zip and unzip executables on system path.<br>
  6. (for Mac OSX only) tar and gzip<br>
  7. org.eclipse.releng.basebuilder and org.eclipse.releng.eclipsebuilder checked 
  out into a directory.<br>
</p>
<p> cd to org.eclipse.releng.eclipsebuilder directory and execute the following 
  command: </p>
<p>java -cp ../org.eclipse.releng.basebuilder/startup.jar org.eclipse.core.launcher.Main 
  -application org.eclipse.ant.core.antRunner -buildfile build.xml -Dcomponent=sdk 
  | platform | jdt | sdk.examples | sdk.tests [-Dconfigs=&lt;configurationst&gt;] 
  [-Djavacfailonerror=true |false ] [-DjavacVerbose=true | false][-Dzipargs=&lt;arguments 
  to zip executable&gt;] [ -Dbootclasspath=&lt;absolute path to bootstrap classes 
  (i.e. rt.jar) to compile against&gt;] [-DbaseLocation=&lt;path&gt;][-Dbaseos=&lt;os&gt;][-Dbasews=&lt;ws&gt;][-Dbasearch=&lt;arch&gt;][-DbuildDirectory=&lt;path&gt;]<br>
  <br>
  NB. currently the build.xml script cannot be executed interactively in eclipse 
  due to <a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=35923">bug 35923</a>.</p>
<p><b>Parameters (Ant properties)</b></p>
<table width="100%" border="1">
  <tr> 
    <td>Name</td>
    <td>Description</td>
  </tr>
  <tr> 
    <td height="36">buildDirectory</td>
    <td height="36">The absolute path to a working directory where the source 
      for the build will be exported, where scripts will be generated and where 
      the end products of the build will be located. On Windows systems, the path 
      length should not exceed thirty characters due to path length limitations 
      when compiling some classes in eclipse.</td>
  </tr>
  <tr> 
    <td>buildId</td>
    <td>The build name. Default set to &quot;build&quot;.</td>
  </tr>
  <tr> 
    <td>buildLabel</td>
    <td>Refers to the name of the directory which will contain the end result 
      of the build. Default set to ${buildType}.${buildId}, ie.&quot;I.build&quot;. 
      This directoryn will be created inside the location specified by the ${buildDirectory} 
      property.</td>
  </tr>
  <tr> 
    <td height="26">baseLocation</td>
    <td height="26">A directory separate from buildDirectory which contains pre-built 
      plugins and features against which to compile. The basedirectory must not 
      contain any features, plugins or fragments which are already or will be 
      located in the buildDirectory.</td>
  </tr>
  <tr> 
    <td>buildType</td>
    <td> 
      <p>Letters I, N, S, R or M are used in Eclipse builds to identify builds 
        as being one of the following:<br>
        <br>
        I - Integration<br>
        N - Nightly<br>
        S - Stable<br>
        R - Release<br>
        M - Maintenance<br>
      </p>
      <p> If set to N, all source will be checked out from the HEAD stream. In 
        all other cases, tags as specifed in map files will be used when exporting 
        plugins to the buildDirectory. </p>
    </td>
  </tr>
  <tr> 
    <td>collPlace</td>
    <td>The directory relative to ${buildLabel} in which built features and plugins 
      are gathered. Default set to &quot;eclipse&quot;.</td>
  </tr>
  <tr> 
    <td>collBase</td>
    <td>The directory relative to ${buildLabel} in which to execute zip of the 
      ${collPlace}directory and configuration specific root files.</td>
  </tr>
  <tr> 
    <td>configs</td>
    <td> 
      <p>An ampersand separated list of configurations to build where a configuration 
        is specified as &lt;os&gt;,&lt;ws&gt;,&lt;arch&gt;.<br>
        ie.configs=&quot;win32,win32,x86 &amp; linux, motif, x86 &amp; linux, 
        gtk, x86&quot;. See list of <a href="#buildconfigs">build configurations</a> 
        in the table below.</p>
    </td>
  </tr>
  <tr> 
    <td>bootclasspath</td>
    <td>Sets the value for the attribute &quot;bootclasspath&quot; in calls to 
      the <a href="http://ant.apache.org/manual/CoreTasks/javac.html">Ant &lt;javac&gt; 
      task</a> in a plugins' build.xml. Default set to ${java.home}/lib/rt.jar.</td>
  </tr>
  <tr> 
    <td>javacFailOnError</td>
    <td>Sets the value for the attribute &quot;failonerror&quot; in calls to the 
      <a href="http://ant.apache.org/manual/CoreTasks/javac.html">Ant &lt;javac&gt; 
      task</a> in a plugins' build.xml. Build will continue even if there are 
      compilation errors when this is set to false.</td>
  </tr>
  <tr> 
    <td>javacDebugInfo</td>
    <td>Sets the value for the attribute &quot;debug&quot; in calls to the <a href="http://ant.apache.org/manual/CoreTasks/javac.html">Ant 
      &lt;javac&gt; task </a>in a plugins' build.xml. Default set to on.</td>
  </tr>
  <tr> 
    <td>javacVerbose</td>
    <td>Sets the value for the attribute &quot;verbose&quot; in calls to the <a href="http://ant.apache.org/manual/CoreTasks/javac.html">Ant 
      &lt;javac&gt; task</a> in a plugins' build.xml. Default set to true.</td>
  </tr>
  <tr> 
    <td>javacSource</td>
    <td>Sets the value for the attribute &quot;source&quot; in calls to the <a href="http://ant.apache.org/manual/CoreTasks/javac.html">Ant 
      &lt;javac&gt; task</a> in a plugins' build.xml. Default set to 1.3.</td>
  </tr>
  <tr> 
    <td>javacTarget</td>
    <td>Sets the value for the attribute &quot;target&quot; in calls to the <a href="http://ant.apache.org/manual/CoreTasks/javac.html">Ant 
      &lt;javac&gt; task</a> in a plugins' build.xml. Default set to 1.1.</td>
  </tr>
  <tr> 
    <td>mapVersionTag</td>
    <td> 
      <p>Sets the tag attribute in a call to the <a href="http://ant.apache.org/manual/CoreTasks/cvs.html">Ant 
        &lt;cvs&gt; task </a>to check out org.eclipse.releng, the map file project 
        on dev.eclipse.org used in the build.</p>
      <p>Can be set to a specific tag to download the map files used for a previous 
        integration build. Typically, these tags are in the form &quot;v&lt;date 
        and timestamp of build&gt;&quot; for example &quot;v200307110800&quot; 
        will checkout the map files used to run the integration at the specified 
        date/time. This mechanism will only work with 3.0 + stream builds &gt; 
        20030701.<br>
      </p>
    </td>
  </tr>
  <tr> 
    <td>zipargs</td>
    <td>Arguments to send to the zip executable. ie. zipargs=-y on Linux preserves 
      symbolic links.</td>
  </tr>
  <tr> 
    <td>baseos,basews,basearch</td>
    <td>The os, ws and arch values of a pre-built eclipse component which is being 
      compiled against. See list of possible values in the table of <a href="#buildconfigs">build 
      configurations</a>.</td>
  </tr>
  <tr> 
    <td>timestamp</td>
    <td>A timestamp used in about.mappings files and to tag the org.eclipse.releng 
      project on dev.eclipse.org (only available to folks with commit rights on 
      this project.)</td>
  </tr>
</table>
<p><b><br>
  Examples<br>
  <br>
  <br>
  Building Eclipse SDK</b></p>
<p><b>java -cp ../org.eclipse.releng.basebuilder/startup.jar org.eclipse.core.launcher.Main 
  -application org.eclipse.ant.core.antRunner -buildfile build.xml -Dcomponent=sdk 
  -Dconfigs=&quot;win32,win32,x86&quot; -Djavacfailonerror=true -DjavacVerbose=false 
  -DbuildDirectory=c:\mybuild</b> -<b>DJAVA14_HOME=c:\jdk141\bin</b><br>
  <br>
  This builds an eclipse SDK for the windows configuration only in the directory 
  c:\mybuild. &quot;-DjavaVerbose=false&quot; indicates that no compile logs will 
  be generated and &quot;-Djavacfailonerror=true&quot; will cause the build to 
  fail if there are any compile errors. <b></b> By setting the value of &quot;-DJAVA14_HOME&quot; 
  to a 1.4 level JDK bin directory, generated javadoc will have links to external 
  classes with the correct separator character, '/' (see <a href="http://developer.java.sun.com/developer/bugParade/bugs/4359874.html">http://developer.java.sun.com/developer/bugParade/bugs/4359874.html</a>). 
  If this is not set, the links will work on Windows but not on *nix systems.<br>
  <br>
  <br>
  <b>java -cp ../org.eclipse.releng.basebuilder/startup.jar org.eclipse.core.launcher.Main 
  -application org.eclipse.ant.core.antRunner -buildfile build.xml -Dcomponent=sdk 
  -Dconfigs=&quot;linux,gtk,x86 &amp; linux,motif,x86&quot; -Dzipargs=-y</b><br>
  <br>
  This builds an eclipse SDK for the linux gtk and linux motif configurations. 
  By default the buildDirectory will be set &quot;src&quot; in eclipse.releng.eclipsebuilder. 
  &quot;-Dzipargs=-y&quot; is used here to preserve the symbolic links in the 
  Linux Motif configuration located in the root directory of eclipse.<br>
  <br>
</p>
<p><b>java -cp ../org.eclipse.releng.basebuilder/startup.jar org.eclipse.core.launcher.Main 
  -application org.eclipse.ant.core.antRunner -buildfile build.xml -Dcomponent=sdk 
  -Dconfigs=&quot;win32,win32,x86&quot; -Dbootclasspath=/builds/windows/jre/lib/rt.jar</b><br>
  <br>
  This builds an eclipse SDK for the windows configuration. A bootclasspath pointing 
  to a Windows rt.jar is explicitly specified so that bootstrap classes not available 
  in the linux virtual machine are available to compile windows specific classes 
  in Eclipse. By default the buildDirectory will be set &quot;src&quot; in eclipse.releng.eclipsebuilder.<br>
  <br>
</p>
<p><b>Building Eclipse Platform</b></p>
<p><b>java -cp ../org.eclipse.releng.basebuilder/startup.jar org.eclipse.core.launcher.Main 
  -application org.eclipse.ant.core.antRunner -buildfile build.xml -Dcomponent=platform 
  -Dconfigs=&quot;linux,motif,x86&quot; -DbuildDirectory=/builds/platform</b></p>
<p>This builds an eclipse platform runtime for the linux motif configuration. 
  The buildDirectory will be set &quot;/builds/platform&quot;.<br>
  <br>
</p>
<p><b>Building Eclipse JDT against a pre-built Eclipse Platform</b></p>
<p><b>java -cp ../org.eclipse.releng.basebuilder/startup.jar org.eclipse.core.launcher.Main 
  -application org.eclipse.ant.core.antRunner -buildfile build.xml -Dcomponent=jdt 
  -Dconfigs=&quot;*,*,*&quot; -DbuildDirectory=/builds/jdt -DbaseLocation=/builds/platform 
  -Dbaseos=linux -Dbasews=motif -Dbasearch=x86 -Djavacfailonerror=true</b></p>
<p></p>
<p>This builds an Eclipse JDT against a pre-built eclipse platform plugins. The 
  build will fail if there are compile errors. The value specified for baseLocation 
  must not contain any JDT features or plugins or the build will fail. &quot;baseos&quot;, 
  &quot;basews&quot; and &quot;basearch&quot; should be specified in order to 
  find the correct location of platform specific jars (i.e. swt.jar) on the classpath.<br>
  <br>
  <b><br>
  Building Eclipse FTP-WebDAV against a pre-built Eclipse SDK</b></p>
<p><b>java -cp ../org.eclipse.releng.basebuilder/startup.jar org.eclipse.core.launcher.Main 
  -application org.eclipse.ant.core.antRunner -buildfile build.xml -Dcomponent=team.extras 
  -DbuildDirectory=/builds/team.extras -DbaseLocation=/home/user/fred/eclipse 
  -Dbaseos=linux -Dbasews=motif -Dbasearch=x86 -Djavacfailonerror=true</b></p>
<p></p>
<p>This builds an Eclipse FTP-WebDAV component against an eclipse SDK installed 
  in directory /home/user/fred/eclipse. The build will fail if there are compile 
  errors.</p>
<p><br>
  <b>Building Eclipse JUnit Plugin tests against a pre-built Eclipse SDK</b></p>
<p><b>java -cp ../org.eclipse.releng.basebuilder/startup.jar org.eclipse.core.launcher.Main 
  -application org.eclipse.ant.core.antRunner -buildfile build.xml -Dcomponent=sdk.tests 
  -DbuildDirectory=c:\tests -DbaseLocation=c:\eclipse -Dbaseos=win32 -Dbasews=win32 
  -Dbasearch=x86 -Djavacfailonerror=true</b></p>
<p></p>
<p>This builds an Eclipse SDK tests component in the directory c:\tests against 
  an eclipse installed in the directory c:\. The build will fail if there are 
  compile errors.</p>
<p><font size="+1"><b><a name="buildconfigs"></a>Eclipse Build Configurations</b></font></p>
<p><b></b>One or more build configurations can be specified to build any of the 
  Eclipse components. Default values for each component are specified in the build.properties 
  for the component. </p>
<table width="100%" border="1">
  <tr> 
    <td width="25%" height="24">Build Configuration (os, ws, arch)</td>
    <td width="23%" height="24">Operating System (os)</td>
    <td width="18%" height="24">Window System (ws)</td>
    <td width="34%" height="24">Processor Architecture (arch)</td>
  </tr>
  <tr> 
    <td width="25%" height="30">linux, motif, x86</td>
    <td width="23%" height="30">Redhat Linux 9 Professional</td>
    <td width="18%" height="30">Motif</td>
    <td width="34%" height="30">Intel x86</td>
  </tr>
  <tr> 
    <td width="25%">linux, gtk, x86</td>
    <td width="23%">Redhat Linux 9 Professional</td>
    <td width="18%">GTK</td>
    <td width="34%">Intel x86</td>
  </tr>
  <tr> 
    <td width="25%">aix, motif, ppc</td>
    <td width="23%">IBM AIX 5.1</td>
    <td width="18%">Motif</td>
    <td width="34%">PowerPC</td>
  </tr>
  <tr> 
    <td width="25%">solaris, motif, sparc</td>
    <td width="23%">Sun Solaris 8</td>
    <td width="18%">Motif</td>
    <td width="34%">SPARC</td>
  </tr>
  <tr> 
    <td width="25%">hpux, motif, PA_RISC</td>
    <td width="23%">HP HP-UX 11i</td>
    <td width="18%">Motif</td>
    <td width="34%">hp9000 PA-RISC</td>
  </tr>
  <tr> 
    <td width="25%">qnx, photon, x86</td>
    <td width="23%">QNX Neutrino RTOS</td>
    <td width="18%">Photon</td>
    <td width="34%">Intel x86</td>
  </tr>
  <tr> 
    <td width="25%">macosx, carbon, ppc</td>
    <td width="23%">Apple Mac OS X 10.2</td>
    <td width="18%">Carbon</td>
    <td width="34%">PowerPC</td>
  </tr>
  <tr> 
    <td width="25%">win32,win32, x86</td>
    <td width="23%">Microsoft Windows XP</td>
    <td width="18%">Win32</td>
    <td width="34%">Intel x86</td>
  </tr>
</table>
<p>&nbsp;</p>
