<project name="Custom Targets MyTest" default="noDefault">

<target name="noDefault" />
	
<!-- This goal of this target is to get the packaging map files of the things you care for 
        The files must be fetched into the downloadDirectory folder -->
<target name="getMapFiles" unless="mapsFetched">
	<copy file="${packagingInfo}/../../../../packaging.map" tofile="${downloadDirectory}/packaging.map"/>
</target>

<target name="assemble.delta.delta.delta.xml">
	<antcall target="assembler">
		<param name="archiveName" value="eclipse-${buildId}-delta-pack.zip"/>
	</antcall>
</target>

	
<target name="assembler">
	<mkdir dir="${postingDirectory}/${buildLabel}/checksum" />
	<property name="archiveFullPath" value="${postingDirectory}/${buildLabel}/${archiveName}" />
	<ant antfile="${assembleScriptName}" />
	
	<!--work-around for bug 132204-->
	<exec executable="zip" dir="${tempDirectory}">
		<arg line="${archiveFullPath} -r . -i eclipse/features/org.eclipse.equinox.executable**" />
	</exec>
	<checksum file="${archiveFullPath}" property="md5"/>
	<checksum file="${archiveFullPath}" algorithm="SHA" property="sha"/>
	<echo message="${md5} *${archiveName}" file="${postingDirectory}/${buildLabel}/checksum/${archiveName}.md5"/>
	<echo message="${sha} *${archiveName}" file="${postingDirectory}/${buildLabel}/checksum/${archiveName}.sha1"/>
</target>
	
</project>