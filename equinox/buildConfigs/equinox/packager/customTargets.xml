<project default="noDefault">

	<target name="noDefault" />

	<!-- set the root of the output file name -->
	<property name="archiveRoot" value="eclipse-equinox-${buildId}" />

	<!-- Target to get the packaging map files for the components of interest
     The files must be fetched into the downloadDirectory folder -->
	<target name="getMapFiles" unless="mapsFetched">
		<copy file="${packagingInfo}/../../../../packaging.map" tofile="${downloadDirectory}/packaging.map" />
	</target>


<target name="assemble.delta.delta.delta.xml">
		<antcall target="assembler">
			<param name="archiveName" value="${archiveRoot}.zip" />
		</antcall>
	</target>


	<target name="assembler">
		<mkdir dir="${equinoxPostingDirectory}/${buildLabel}/checksum" />
		<property name="archiveFullPath" value="${equinoxPostingDirectory}/${buildLabel}/${archiveName}" />
		<ant antfile="${assembleScriptName}" />
		<checksum file="${archiveFullPath}" property="md5" />
		<checksum file="${archiveFullPath}" property="sha" />
		<echo message="${md5} *${archiveName}" file="${equinoxPostingDirectory}/${buildLabel}/checksum/${archiveName}.md5" />
		<echo message="${sha} *${archiveName}" file="${equinoxPostingDirectory}/${buildLabel}/checksum/${archiveName}.sha1" />
	</target>

</project>
