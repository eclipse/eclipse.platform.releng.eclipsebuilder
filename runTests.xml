<project default="main">

	<target name="init">
		<property name="buildId" value="I20101012-0800" />		
		<property name="os" value="win32" />
		<property name="ws" value="win32" />
		<property name="arch" value="x86_64" />
		<echo message="WORKSPACE ${WORKSPACE}"/>		
		<echo message="BUILD_ID ${BUILD_ID}"/>
		<property name="builderDir" value="${WORKSPACE}\${BUILD_ID}"/>
		<property name="testDir" value="${builderDir}/testDir"/>
		<echo message="testDir ${testDir}"/>
		<echo message="builderDir ${builderDir}"/>
		<mkdir dir="${testDir}"/>
	</target>

	<target name="main" depends="init">		
		<!--old way uses available call, could switch to this method even though the build is much faster -->
		<get src="http://download.eclipse.org/eclipse/downloads/drops/${buildId}/eclipse-SDK-${buildId}-win32-x86_64.zip" dest="${testDir}/eclipse-SDK-${buildId}-win32-x86_64.zip" />
		<get src="http://download.eclipse.org/eclipse/downloads/drops/${buildId}/eclipse-Automated-Tests-${buildId}.zip" dest="${testDir}/eclipse-Automated-Tests-${buildId}.zip" />
		<get src="http://download.eclipse.org/eclipse/downloads/drops/${buildId}/eclipse-platform-${buildId}-win32.zip" dest="${testDir}/eclipse-platform-${buildId}-win32.zip" />
		<get src="http://download.eclipse.org/eclipse/downloads/drops/${buildId}/eclipse-${buildId}-delta-pack.zip" dest="${testDir}/eclipse-${buildId}-delta-pack.zip" />
		<get src="http://download.eclipse.org/eclipse/downloads/drops/${buildId}/eclipse-Automated-Tests-${buildId}.zip" dest="${testDir}/eclipse-Automated-Tests-${buildId}.zip" />				
		<property name="test.xml" value="../org.eclipse.releng.basebuilder/plugins/org.eclipse.build.tools/scripts/test.xml" />
		<property file="eclipse/buildConfigs/sdk.tests/testConfigs/win7x86_64/testing.properties" />		
		<ant antfile="${test.xml}" /> 
	</target>
	
</project>
